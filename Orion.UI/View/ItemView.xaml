<UserControl
    x:Class="Orion.UI.View.ItemView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:ctrl="http://metro.mahapps.com/winfx/xaml/controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:dialog="clr-namespace:MahApps.Metro.Controls.Dialogs;assembly=MahApps.Metro"
    xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:icon="http://metro.mahapps.com/winfx/xaml/iconpacks"
    xmlns:local="clr-namespace:Orion.UI.DependencyProperties"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:view="clr-namespace:Orion.UI.View"
    xmlns:vm="clr-namespace:Orion.UI.ViewModel"
    d:DataContext="{d:DesignInstance Type=vm:ItemViewModel}"
    d:DesignHeight="1000"
    d:DesignWidth="1000"
    dialog:DialogParticipation.Register="{Binding}"
    mc:Ignorable="d">

    <i:Interaction.Triggers>
        <i:EventTrigger EventName="Loaded">
            <i:InvokeCommandAction Command="{Binding LoadDataCommand}" />
        </i:EventTrigger>
    </i:Interaction.Triggers>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="auto" />
            <ColumnDefinition Width="*" />
            <ColumnDefinition MinWidth="400" MaxWidth="400" />
        </Grid.ColumnDefinitions>

        <Grid Grid.Column="0">
            <Grid.Style>
                <Style TargetType="Grid">
                    <Setter Property="IsEnabled" Value="False" />
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding TitlesActive, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" Value="False">
                            <Setter Property="IsEnabled" Value="True" />
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </Grid.Style>
            <Grid.RowDefinitions>
                <RowDefinition />
                <RowDefinition Height="auto" />
            </Grid.RowDefinitions>

            <GroupBox
                Grid.Row="0"
                Margin="5,5,0,5"
                ctrl:ControlsHelper.ContentCharacterCasing="Normal"
                Header="Factory">

                <ScrollViewer
                    Grid.Row="1"
                    HorizontalScrollBarVisibility="Disabled"
                    VerticalScrollBarVisibility="Auto">
                    <StackPanel Orientation="Vertical">
                        <ItemsControl ItemsSource="{Binding Companies, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Expander
                                        Width="120"
                                        Margin="0,0,0,5"
                                        IsExpanded="False">
                                        <Expander.Header>
                                            <TextBlock Text="{Binding Name}" TextWrapping="Wrap" />
                                        </Expander.Header>
                                        <Expander.Style>
                                            <Style BasedOn="{StaticResource MahApps.Styles.Expander}" TargetType="Expander">
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding Products.Count}" Value="0">
                                                        <Setter Property="Visibility" Value="Collapsed" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Expander.Style>
                                        <StackPanel Orientation="Vertical">
                                            <ItemsControl ItemsSource="{Binding Products, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}">
                                                <ItemsControl.ItemTemplate>
                                                    <DataTemplate>
                                                        <Button
                                                            Margin="1"
                                                            Padding="0"
                                                            Background="{Binding Color}"
                                                            Command="{Binding DataContext.EditItemsCommand, RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}"
                                                            CommandParameter="{Binding Index}">
                                                            <Button.Content>
                                                                <TextBlock Text="{Binding Name}" TextWrapping="Wrap" />
                                                            </Button.Content>
                                                        </Button>
                                                    </DataTemplate>
                                                </ItemsControl.ItemTemplate>
                                            </ItemsControl>
                                        </StackPanel>
                                    </Expander>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </StackPanel>
                </ScrollViewer>
            </GroupBox>

            <GroupBox
                Grid.Row="1"
                Margin="5,0,0,5"
                ctrl:ControlsHelper.ContentCharacterCasing="Normal"
                Header="Actions">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition />
                        <ColumnDefinition />
                    </Grid.ColumnDefinitions>
                    <Button
                        Grid.Column="0"
                        Margin="1"
                        Background="Orange"
                        Command="{Binding BackToQuotesCommad}"
                        ToolTip="Back">
                        <Button.Content>
                            <StackPanel Orientation="Vertical">
                                <icon:PackIconMaterial
                                    Grid.Column="1"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    Kind="KeyboardReturn">
                                    <icon:PackIconMaterial.LayoutTransform>
                                        <TransformGroup>
                                            <ScaleTransform ScaleX="0.75" ScaleY="0.75" />
                                        </TransformGroup>
                                    </icon:PackIconMaterial.LayoutTransform>
                                </icon:PackIconMaterial>
                            </StackPanel>
                        </Button.Content>
                    </Button>


                    <Button
                        Grid.Column="1"
                        Margin="1"
                        Background="{StaticResource MahApps.Brushes.Accent}"
                        Command="{Binding UpdateQuoteItemsCommand}"
                        ToolTip="Save / Update Specs">
                        <Button.Content>
                            <StackPanel Orientation="Vertical">
                                <icon:PackIconMaterial
                                    Grid.Column="1"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    Kind="ContentSave">
                                    <icon:PackIconMaterial.LayoutTransform>
                                        <TransformGroup>
                                            <ScaleTransform ScaleX="0.75" ScaleY="0.75" />
                                        </TransformGroup>
                                    </icon:PackIconMaterial.LayoutTransform>
                                </icon:PackIconMaterial>
                            </StackPanel>
                        </Button.Content>
                    </Button>

                </Grid>
            </GroupBox>
        </Grid>


        <Grid Grid.Column="1">
            <Grid.Style>
                <Style TargetType="Grid">
                    <Setter Property="Grid.ColumnSpan" Value="2" />
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding TitlesActive, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" Value="True">
                            <Setter Property="Grid.ColumnSpan" Value="1" />
                            <Setter Property="IsEnabled" Value="False" />
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </Grid.Style>

            <Border
                Grid.Row="1"
                Margin="5"
                BorderBrush="{StaticResource MahApps.Brushes.Accent}"
                BorderThickness="1">
                <ScrollViewer
                    Grid.Row="1"
                    HorizontalScrollBarVisibility="Disabled"
                    VerticalScrollBarVisibility="Auto">

                    <ItemsControl ItemsSource="{Binding ItemListViewModels, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}">
                        <ItemsControl.ItemTemplate>
                            <ItemContainerTemplate>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="auto"/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>


                                    <ContentControl Grid.Column="1" Content="{Binding}"/>

                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Grid.Column="1" VerticalAlignment="Top">

                                        <Button
                                                            Grid.Row="0"
                                                            Margin="0,6,0,0"
                                                            Background="Orange"
                                                            Command="{Binding Path=DataContext.MoveToStartCommand, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type UserControl}}}"
                                                            CommandParameter="{Binding}"
                                                            ToolTip="Move To Start">
                                            <icon:PackIconBoxIcons Kind="SolidArrowToTop" >
                                                <icon:PackIconBoxIcons.LayoutTransform>
                                                    <TransformGroup>
                                                        <ScaleTransform ScaleX="0.5" ScaleY="0.5"/>
                                                    </TransformGroup>
                                                </icon:PackIconBoxIcons.LayoutTransform>
                                            </icon:PackIconBoxIcons>
                                        </Button>

                                        <Button
                                                            Grid.Row="1"
                                                            Margin="0,6,0,0"
                                                            Background="{StaticResource MahApps.Brushes.Accent}"
                                                            Command="{Binding Path=DataContext.MoveToUpCommand, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type UserControl}}}"
                                                            CommandParameter="{Binding}"
                                                            ToolTip="Move To Up">
                                            <icon:PackIconFontAwesome
                                                                HorizontalAlignment="Center"
                                                                VerticalAlignment="Center"
                                                                Kind="CaretUpSolid" >
                                                <icon:PackIconFontAwesome.LayoutTransform>
                                                    <TransformGroup>
                                                        <ScaleTransform ScaleX="0.5" ScaleY="0.5"/>
                                                    </TransformGroup>
                                                </icon:PackIconFontAwesome.LayoutTransform>
                                            </icon:PackIconFontAwesome>
                                        </Button>

                                        <Button
                                                            Grid.Row="3"
                                                            Margin="0,6,0,0"
                                                            Background="{StaticResource MahApps.Brushes.Accent}"
                                                            Command="{Binding Path=DataContext.MoveToDownCommand, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type UserControl}}}"
                                                            CommandParameter="{Binding}"
                                                            ToolTip="Move To Down">
                                            <icon:PackIconFontAwesome
                                                                HorizontalAlignment="Center"
                                                                VerticalAlignment="Center"
                                                                Kind="CaretDownSolid" >
                                                <icon:PackIconFontAwesome.LayoutTransform>
                                                    <TransformGroup>
                                                        <ScaleTransform ScaleX="0.5" ScaleY="0.5"/>
                                                    </TransformGroup>
                                                </icon:PackIconFontAwesome.LayoutTransform>
                                            </icon:PackIconFontAwesome>
                                        </Button>

                                        <Button
                                                            Grid.Row="4"
                                                            Margin="0,6,10,0"
                                                            Background="Orange"
                                                            Command="{Binding Path=DataContext.MoveToEndCommand, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type UserControl}}}"
                                                            CommandParameter="{Binding}"
                                                            ToolTip="Move To End">
                                            <icon:PackIconBoxIcons Kind="SolidArrowToBottom" >
                                                <icon:PackIconBoxIcons.LayoutTransform>
                                                    <TransformGroup>
                                                        <ScaleTransform ScaleX="0.5" ScaleY="0.5"/>
                                                    </TransformGroup>
                                                </icon:PackIconBoxIcons.LayoutTransform>
                                            </icon:PackIconBoxIcons>
                                        </Button>
                                    </StackPanel>
                                </Grid>
                            </ItemContainerTemplate>
                        </ItemsControl.ItemTemplate>

                    </ItemsControl>
                    <!--<StackPanel Orientation="Vertical">-->
                        
                        
                        <!--<Expander
                            Margin="5,5,5,0"
                            BorderBrush="DarkSlateBlue"
                            IsExpanded="False">
                            <Expander.Header>
                                <Label
                                    Margin="-26,-2,-2,-2"
                                    Background="DarkSlateBlue"
                                    Content="Quantech" />
                            </Expander.Header>
                            <Expander.Style>
                                <Style BasedOn="{StaticResource MahApps.Styles.Expander}" TargetType="Expander">
                                    <Style.Triggers>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding ItemA1s.Count}" Value="0" />
                                                <Condition Binding="{Binding ItemA2s.Count}" Value="0" />
                                                <Condition Binding="{Binding ItemA3s.Count}" Value="0" />
                                                <Condition Binding="{Binding ItemA4s.Count}" Value="0" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Collapsed" />
                                        </MultiDataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Expander.Style>
                            <StackPanel Orientation="Vertical">
                                <Expander
                                    Grid.Row="0"
                                    Margin="0,0,0,0"
                                    ctrl:ControlsHelper.ContentCharacterCasing="Normal"
                                    IsExpanded="True">
                                    <Expander.Style>
                                        <Style BasedOn="{StaticResource MahApps.Styles.Expander}" TargetType="Expander">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ItemA1s.Count}" Value="0">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Expander.Style>
                                    <Expander.Header>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="auto" />
                                            </Grid.ColumnDefinitions>

                                            <Label
                                                Grid.Column="0"
                                                VerticalAlignment="Center"
                                                Content="Air Cooled Chillers Factory Lead Time" />
                                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                                <Label Content="Total:" />
                                                <TextBox
                                                    Width="120"
                                                    Margin="0,0,5,0"
                                                    IsReadOnly="True"
                                                    Text="{Binding ItemA1s, Converter={StaticResource TotalPriceConverter}, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:c}, Mode=TwoWay}" />

                                                <Button
                                                    Grid.Column="2"
                                                    Width="65"
                                                    HorizontalAlignment="Right"
                                                    Background="DarkSlateBlue"
                                                    Command="{Binding EditItemsCommand}"
                                                    CommandParameter="A1"
                                                    ToolTip="Edit Items">
                                                    <Button.Content>
                                                        <icon:PackIconMaterial
                                                            HorizontalAlignment="Center"
                                                            VerticalAlignment="Center"
                                                            Kind="PencilPlus">
                                                            <icon:PackIconMaterial.LayoutTransform>
                                                                <TransformGroup>
                                                                    <ScaleTransform ScaleX="0.75" ScaleY="0.75" />
                                                                </TransformGroup>
                                                            </icon:PackIconMaterial.LayoutTransform>
                                                        </icon:PackIconMaterial>
                                                    </Button.Content>
                                                </Button>
                                            </StackPanel>

                                        </Grid>
                                    </Expander.Header>
                                    <local:FullItemDataGrid ItemsSource="{Binding ItemA1s, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" Style="{StaticResource FullItemDataGridStyle}">
                                        <local:FullItemDataGrid.Columns>

                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.UnitSize}"
                                                Header="Unit Size"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.Description}"
                                                Header="Description"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.Voltage}"
                                                Header="Voltage"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />

                                        </local:FullItemDataGrid.Columns>
                                    </local:FullItemDataGrid>
                                </Expander>

                                <Expander
                                    Grid.Row="0"
                                    Margin="0,5,0,0"
                                    ctrl:ControlsHelper.ContentCharacterCasing="Normal"
                                    IsExpanded="True">
                                    <Expander.Style>
                                        <Style BasedOn="{StaticResource MahApps.Styles.Expander}" TargetType="Expander">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ItemA2s.Count}" Value="0">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Expander.Style>
                                    <Expander.Header>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="auto" />
                                            </Grid.ColumnDefinitions>

                                            <Label
                                                Grid.Column="0"
                                                VerticalAlignment="Center"
                                                Content="Air Cooled Chillers Stock Non Coated Condenser" />
                                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                                <Label Content="Total:" />
                                                <TextBox
                                                    Width="120"
                                                    Margin="0,0,5,0"
                                                    IsReadOnly="True"
                                                    Text="{Binding ItemA2s, Converter={StaticResource TotalPriceConverter}, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:c}, Mode=TwoWay}" />

                                                <Button
                                                Grid.Column="1"
                                                Width="65"
                                                HorizontalAlignment="Right"
                                                Background="DarkSlateBlue"
                                                Command="{Binding EditItemsCommand}"
                                                CommandParameter="A2"
                                                ToolTip="Edit Items">
                                                    <Button.Content>
                                                        <icon:PackIconMaterial
                                                        HorizontalAlignment="Center"
                                                        VerticalAlignment="Center"
                                                        Kind="PencilPlus">
                                                            <icon:PackIconMaterial.LayoutTransform>
                                                                <TransformGroup>
                                                                    <ScaleTransform ScaleX="0.75" ScaleY="0.75" />
                                                                </TransformGroup>
                                                            </icon:PackIconMaterial.LayoutTransform>
                                                        </icon:PackIconMaterial>
                                                    </Button.Content>
                                                </Button>
                                            </StackPanel>
                                        </Grid>
                                    </Expander.Header>
                                    <local:FullItemDataGrid ItemsSource="{Binding ItemA2s, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" Style="{StaticResource FullItemDataGridStyle}">
                                        <local:FullItemDataGrid.Columns>

                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.UnitSize}"
                                                Header="Unit Size"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.Description}"
                                                Header="Description"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.Voltage}"
                                                Header="Voltage"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />

                                        </local:FullItemDataGrid.Columns>
                                    </local:FullItemDataGrid>
                                </Expander>

                                <Expander
                                    Grid.Row="0"
                                    Margin="0,5,0,0"
                                    ctrl:ControlsHelper.ContentCharacterCasing="Normal"
                                    IsExpanded="True">
                                    <Expander.Style>
                                        <Style BasedOn="{StaticResource MahApps.Styles.Expander}" TargetType="Expander">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ItemA3s.Count}" Value="0">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Expander.Style>
                                    <Expander.Header>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="auto" />
                                            </Grid.ColumnDefinitions>

                                            <Label
                                                Grid.Column="0"
                                                VerticalAlignment="Center"
                                                Content="Air Cooled Chillers Stock Post Coated Condenser" />
                                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                                <Label Content="Total:" />
                                                <TextBox
                                                    Width="120"
                                                    Margin="0,0,5,0"
                                                    IsReadOnly="True"
                                                    Text="{Binding ItemA3s, Converter={StaticResource TotalPriceConverter}, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:c}, Mode=TwoWay}" />

                                                <Button
                                                Grid.Column="1"
                                                Width="65"
                                                HorizontalAlignment="Right"
                                                Background="DarkSlateBlue"
                                                Command="{Binding EditItemsCommand}"
                                                CommandParameter="A3"
                                                ToolTip="Edit Items">
                                                    <Button.Content>
                                                        <icon:PackIconMaterial
                                                        HorizontalAlignment="Center"
                                                        VerticalAlignment="Center"
                                                        Kind="PencilPlus">
                                                            <icon:PackIconMaterial.LayoutTransform>
                                                                <TransformGroup>
                                                                    <ScaleTransform ScaleX="0.75" ScaleY="0.75" />
                                                                </TransformGroup>
                                                            </icon:PackIconMaterial.LayoutTransform>
                                                        </icon:PackIconMaterial>
                                                    </Button.Content>
                                                </Button>
                                            </StackPanel>
                                        </Grid>
                                    </Expander.Header>
                                    <local:FullItemDataGrid ItemsSource="{Binding ItemA3s, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" Style="{StaticResource FullItemDataGridStyle}">
                                        <local:FullItemDataGrid.Columns>

                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.UnitSize}"
                                                Header="Unit Size"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.Description}"
                                                Header="Description"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.Voltage}"
                                                Header="Voltage"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />

                                        </local:FullItemDataGrid.Columns>
                                    </local:FullItemDataGrid>
                                </Expander>

                                <Expander
                                    Grid.Row="0"
                                    Margin="0,5,0,0"
                                    ctrl:ControlsHelper.ContentCharacterCasing="Normal"
                                    IsExpanded="True">
                                    <Expander.Style>
                                        <Style BasedOn="{StaticResource MahApps.Styles.Expander}" TargetType="Expander">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ItemA4s.Count}" Value="0">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Expander.Style>
                                    <Expander.Header>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="auto" />
                                            </Grid.ColumnDefinitions>

                                            <Label
                                                Grid.Column="0"
                                                VerticalAlignment="Center"
                                                Content="Water Cooled Chillers Factory Lead Time" />
                                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                                <Label Content="Total:" />
                                                <TextBox
                                                    Width="120"
                                                    Margin="0,0,5,0"
                                                    IsReadOnly="True"
                                                    Text="{Binding ItemA4s, Converter={StaticResource TotalPriceConverter}, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:c}, Mode=TwoWay}" />

                                                <Button
                                                Grid.Column="1"
                                                Width="65"
                                                HorizontalAlignment="Right"
                                                Background="DarkSlateBlue"
                                                Command="{Binding EditItemsCommand}"
                                                CommandParameter="A4"
                                                ToolTip="Edit Items">
                                                    <Button.Content>
                                                        <icon:PackIconMaterial
                                                        HorizontalAlignment="Center"
                                                        VerticalAlignment="Center"
                                                        Kind="PencilPlus">
                                                            <icon:PackIconMaterial.LayoutTransform>
                                                                <TransformGroup>
                                                                    <ScaleTransform ScaleX="0.75" ScaleY="0.75" />
                                                                </TransformGroup>
                                                            </icon:PackIconMaterial.LayoutTransform>
                                                        </icon:PackIconMaterial>
                                                    </Button.Content>
                                                </Button>
                                            </StackPanel>
                                        </Grid>
                                    </Expander.Header>
                                    <local:FullItemDataGrid ItemsSource="{Binding ItemA4s, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" Style="{StaticResource FullItemDataGridStyle}">
                                        <local:FullItemDataGrid.Columns>

                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.UnitSize}"
                                                Header="Unit Size"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.Description}"
                                                Header="Description"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.Voltage}"
                                                Header="Voltage"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />

                                        </local:FullItemDataGrid.Columns>
                                    </local:FullItemDataGrid>
                                </Expander>
                            </StackPanel>
                        </Expander>

                        
                        
                        <Expander
                            Margin="5,5,5,0"
                            BorderBrush="DarkCyan"
                            IsExpanded="False">
                            <Expander.Header>
                                <Label
                                    Margin="-26,-2,-2,-2"
                                    Background="DarkCyan"
                                    Content="ABB" />
                            </Expander.Header>
                            <Expander.Style>
                                <Style BasedOn="{StaticResource MahApps.Styles.Expander}" TargetType="Expander">
                                    <Style.Triggers>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding ItemB1s.Count}" Value="0" />
                                                <Condition Binding="{Binding ItemB5s.Count}" Value="0" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Collapsed" />
                                        </MultiDataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Expander.Style>
                            <StackPanel Orientation="Vertical">
                                <Expander
                                    Grid.Row="0"
                                    Margin="0,0,0,0"
                                    ctrl:ControlsHelper.ContentCharacterCasing="Normal"
                                    IsExpanded="True">
                                    <Expander.Style>
                                        <Style BasedOn="{StaticResource MahApps.Styles.Expander}" TargetType="Expander">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ItemB1s.Count}" Value="0">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Expander.Style>
                                    <Expander.Header>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="auto" />
                                            </Grid.ColumnDefinitions>

                                            <Label
                                                Grid.Column="0"
                                                VerticalAlignment="Center"
                                                Content="VFD Drives" />
                                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                                <Label Content="Total:" />
                                                <TextBox
                                                    Width="120"
                                                    Margin="0,0,5,0"
                                                    IsReadOnly="True"
                                                    Text="{Binding ItemB1s, Converter={StaticResource TotalPriceConverter}, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:c}, Mode=TwoWay}" />

                                                <Button
                                                Grid.Column="1"
                                                Width="65"
                                                HorizontalAlignment="Right"
                                                Background="DarkCyan"
                                                Command="{Binding EditItemsCommand}"
                                                CommandParameter="B1"
                                                ToolTip="Edit Items">
                                                    <Button.Content>
                                                        <icon:PackIconMaterial
                                                        HorizontalAlignment="Center"
                                                        VerticalAlignment="Center"
                                                        Kind="PencilPlus">
                                                            <icon:PackIconMaterial.LayoutTransform>
                                                                <TransformGroup>
                                                                    <ScaleTransform ScaleX="0.75" ScaleY="0.75" />
                                                                </TransformGroup>
                                                            </icon:PackIconMaterial.LayoutTransform>
                                                        </icon:PackIconMaterial>
                                                    </Button.Content>
                                                </Button>
                                            </StackPanel>
                                        </Grid>
                                    </Expander.Header>


                                    <local:FullItemDataGrid ItemsSource="{Binding ItemB1s, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" Style="{StaticResource FullItemDataGridStyle}">
                                        <local:FullItemDataGrid.Columns>

                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.Hp}"
                                                Header="HP"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.Description}"
                                                Header="Description"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.Nema}"
                                                Header="Nema"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.Bypass, Converter={StaticResource BoolToYesNoCoverter}}"
                                                Header="Bypass"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.CircuitBreakerDisconnect, Converter={StaticResource BoolToYesNoCoverter}}"
                                                Header="Disconnect"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.Voltage}"
                                                Header="Votlage"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />

                                        </local:FullItemDataGrid.Columns>
                                    </local:FullItemDataGrid>
                                </Expander>

                                <Expander
                                    Grid.Row="0"
                                    Margin="0,5,0,0"
                                    ctrl:ControlsHelper.ContentCharacterCasing="Normal"
                                    IsExpanded="True">
                                    <Expander.Style>
                                        <Style BasedOn="{StaticResource MahApps.Styles.Expander}" TargetType="Expander">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ItemB5s.Count}" Value="0">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Expander.Style>
                                    <Expander.Header>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="auto" />
                                            </Grid.ColumnDefinitions>

                                            <Label
                                                Grid.Column="0"
                                                VerticalAlignment="Center"
                                                Content="Accesories" />
                                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                                <Label Content="Total:" />
                                                <TextBox
                                                    Width="120"
                                                    Margin="0,0,5,0"
                                                    IsReadOnly="True"
                                                    Text="{Binding ItemB5s, Converter={StaticResource TotalPriceConverter}, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:c}, Mode=TwoWay}" />

                                                <Button
                                                Grid.Column="1"
                                                Width="65"
                                                HorizontalAlignment="Right"
                                                Background="DarkCyan"
                                                Command="{Binding EditItemsCommand}"
                                                CommandParameter="B5"
                                                ToolTip="Edit Items">
                                                    <Button.Content>
                                                        <icon:PackIconMaterial
                                                        HorizontalAlignment="Center"
                                                        VerticalAlignment="Center"
                                                        Kind="PencilPlus">
                                                            <icon:PackIconMaterial.LayoutTransform>
                                                                <TransformGroup>
                                                                    <ScaleTransform ScaleX="0.75" ScaleY="0.75" />
                                                                </TransformGroup>
                                                            </icon:PackIconMaterial.LayoutTransform>
                                                        </icon:PackIconMaterial>
                                                    </Button.Content>
                                                </Button>
                                            </StackPanel>
                                        </Grid>
                                    </Expander.Header>


                                    <local:FullItemDataGrid ItemsSource="{Binding ItemB5s, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" Style="{StaticResource FullItemDataGridStyle}">
                                        <local:FullItemDataGrid.Columns>

                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.Description}"
                                                Header="Description"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />

                                        </local:FullItemDataGrid.Columns>
                                    </local:FullItemDataGrid>
                                </Expander>
                            </StackPanel>
                        </Expander>

                        
                        
                        <Expander
                            Margin="5,5,5,0"
                            BorderBrush="DarkMagenta"
                            IsExpanded="False">
                            <Expander.Header>
                                <Label
                                    Margin="-26,-2,-2,-2"
                                    Background="DarkMagenta"
                                    Content="American Wheatley" />
                            </Expander.Header>
                            <Expander.Style>
                                <Style BasedOn="{StaticResource MahApps.Styles.Expander}" TargetType="Expander">
                                    <Style.Triggers>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding ItemC1s.Count}" Value="0" />
                                                <Condition Binding="{Binding ItemC2s.Count}" Value="0" />
                                                <Condition Binding="{Binding ItemC3s.Count}" Value="0" />
                                                <Condition Binding="{Binding ItemC4s.Count}" Value="0" />
                                                <Condition Binding="{Binding ItemC5s.Count}" Value="0" />
                                                <Condition Binding="{Binding ItemC6s.Count}" Value="0" />
                                                <Condition Binding="{Binding ItemC7s.Count}" Value="0" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Collapsed" />
                                        </MultiDataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Expander.Style>
                            <StackPanel Orientation="Vertical">
                                <Expander
                                    Grid.Row="0"
                                    Margin="0,5,0,0"
                                    ctrl:ControlsHelper.ContentCharacterCasing="Normal"
                                    IsExpanded="True">
                                    <Expander.Style>
                                        <Style BasedOn="{StaticResource MahApps.Styles.Expander}" TargetType="Expander">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ItemC3s.Count}" Value="0">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Expander.Style>
                                    <Expander.Header>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="auto" />
                                            </Grid.ColumnDefinitions>

                                            <Label
                                                Grid.Column="0"
                                                VerticalAlignment="Center"
                                                Content="Tanks" />
                                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                                <Label Content="Total:" />
                                                <TextBox
                                                    Width="120"
                                                    Margin="0,0,5,0"
                                                    IsReadOnly="True"
                                                    Text="{Binding ItemC3s, Converter={StaticResource TotalPriceConverter}, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:c}, Mode=TwoWay}" />

                                                <Button
                                                Grid.Column="1"
                                                Width="65"
                                                HorizontalAlignment="Right"
                                                Background="DarkMagenta"
                                                Command="{Binding EditItemsCommand}"
                                                CommandParameter="C3"
                                                ToolTip="Edit Items">
                                                    <Button.Content>
                                                        <icon:PackIconMaterial
                                                        HorizontalAlignment="Center"
                                                        VerticalAlignment="Center"
                                                        Kind="PencilPlus">
                                                            <icon:PackIconMaterial.LayoutTransform>
                                                                <TransformGroup>
                                                                    <ScaleTransform ScaleX="0.75" ScaleY="0.75" />
                                                                </TransformGroup>
                                                            </icon:PackIconMaterial.LayoutTransform>
                                                        </icon:PackIconMaterial>
                                                    </Button.Content>
                                                </Button>
                                            </StackPanel>
                                        </Grid>
                                    </Expander.Header>


                                    <local:FullItemDataGrid ItemsSource="{Binding ItemC3s, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" Style="{StaticResource FullItemDataGridStyle}">
                                        <local:FullItemDataGrid.Columns>

                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.AcceptableVolume}"
                                                Header="Acceptable Volume (GPM)"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.DiameterA}"
                                                Header="Diameter A (in)"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.HeightB}"
                                                Header="Height B (in)"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.SystemConnect}"
                                                Header="System Connect (in)"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.Weight}"
                                                Header="Weight (lb)"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.WorkingPressure}"
                                                Header="Working Pressure (PSI)"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.CatalogC3ProductType.Name}"
                                                Header="Product Type"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />

                                        </local:FullItemDataGrid.Columns>
                                    </local:FullItemDataGrid>
                                </Expander>

                                <Expander
                                    Grid.Row="0"
                                    Margin="0,5,0,0"
                                    ctrl:ControlsHelper.ContentCharacterCasing="Normal"
                                    IsExpanded="True">
                                    <Expander.Style>
                                        <Style BasedOn="{StaticResource MahApps.Styles.Expander}" TargetType="Expander">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ItemC4s.Count}" Value="0">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Expander.Style>
                                    <Expander.Header>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="auto" />
                                            </Grid.ColumnDefinitions>

                                            <Label
                                                Grid.Column="0"
                                                VerticalAlignment="Center"
                                                Content="Separators" />
                                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                                <Label Content="Total:" />
                                                <TextBox
                                                    Width="120"
                                                    Margin="0,0,5,0"
                                                    IsReadOnly="True"
                                                    Text="{Binding ItemC4s, Converter={StaticResource TotalPriceConverter}, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:c}, Mode=TwoWay}" />

                                                <Button
                                                Grid.Column="1"
                                                Width="65"
                                                HorizontalAlignment="Right"
                                                Background="DarkMagenta"
                                                Command="{Binding EditItemsCommand}"
                                                CommandParameter="C4"
                                                ToolTip="Edit Items">
                                                    <Button.Content>
                                                        <icon:PackIconMaterial
                                                        HorizontalAlignment="Center"
                                                        VerticalAlignment="Center"
                                                        Kind="PencilPlus">
                                                            <icon:PackIconMaterial.LayoutTransform>
                                                                <TransformGroup>
                                                                    <ScaleTransform ScaleX="0.75" ScaleY="0.75" />
                                                                </TransformGroup>
                                                            </icon:PackIconMaterial.LayoutTransform>
                                                        </icon:PackIconMaterial>
                                                    </Button.Content>
                                                </Button>
                                            </StackPanel>
                                        </Grid>
                                    </Expander.Header>


                                    <local:FullItemDataGrid ItemsSource="{Binding ItemC4s, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" Style="{StaticResource FullItemDataGridStyle}">
                                        <local:FullItemDataGrid.Columns>

                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.AcceptableVolume}"
                                                Header="Acceptable Volume (GPM)"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.DiameterA}"
                                                Header="Diameter A (in)"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.HeightB}"
                                                Header="Height B (in)"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.SystemConnect}"
                                                Header="System Connect (in)"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.Weight}"
                                                Header="Weight (lb)"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.WorkingPressure}"
                                                Header="Working Pressure (PSI)"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />

                                        </local:FullItemDataGrid.Columns>
                                    </local:FullItemDataGrid>
                                </Expander>

                                <Expander
                                    Grid.Row="0"
                                    Margin="0,5,0,0"
                                    ctrl:ControlsHelper.ContentCharacterCasing="Normal"
                                    IsExpanded="True">
                                    <Expander.Style>
                                        <Style BasedOn="{StaticResource MahApps.Styles.Expander}" TargetType="Expander">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ItemC5s.Count}" Value="0">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Expander.Style>
                                    <Expander.Header>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="auto" />
                                            </Grid.ColumnDefinitions>

                                            <Label
                                                Grid.Column="0"
                                                VerticalAlignment="Center"
                                                Content="BFT Tanks" />
                                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                                <Label Content="Total:" />
                                                <TextBox
                                                    Width="120"
                                                    Margin="0,0,5,0"
                                                    IsReadOnly="True"
                                                    Text="{Binding ItemC5s, Converter={StaticResource TotalPriceConverter}, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:c}, Mode=TwoWay}" />

                                                <Button
                                                Grid.Column="1"
                                                Width="65"
                                                HorizontalAlignment="Right"
                                                Background="DarkMagenta"
                                                Command="{Binding EditItemsCommand}"
                                                CommandParameter="C5"
                                                ToolTip="Edit Items">
                                                    <Button.Content>
                                                        <icon:PackIconMaterial
                                                        HorizontalAlignment="Center"
                                                        VerticalAlignment="Center"
                                                        Kind="PencilPlus">
                                                            <icon:PackIconMaterial.LayoutTransform>
                                                                <TransformGroup>
                                                                    <ScaleTransform ScaleX="0.75" ScaleY="0.75" />
                                                                </TransformGroup>
                                                            </icon:PackIconMaterial.LayoutTransform>
                                                        </icon:PackIconMaterial>
                                                    </Button.Content>
                                                </Button>
                                            </StackPanel>
                                        </Grid>
                                    </Expander.Header>


                                    <local:FullItemDataGrid ItemsSource="{Binding ItemC5s, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" Style="{StaticResource FullItemDataGridStyle}">
                                        <local:FullItemDataGrid.Columns>

                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.Description}"
                                                Header="Description"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.Volume}"
                                                Header="Volume (gal)"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.HeightA}"
                                                Header="Height A (in)"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.DiameterB}"
                                                Header="Diameter B (in)"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.Weight}"
                                                Header="Weight (lb)"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />

                                        </local:FullItemDataGrid.Columns>
                                    </local:FullItemDataGrid>
                                </Expander>

                                <Expander
                                    Grid.Row="0"
                                    Margin="0,5,0,0"
                                    ctrl:ControlsHelper.ContentCharacterCasing="Normal"
                                    IsExpanded="True">
                                    <Expander.Style>
                                        <Style BasedOn="{StaticResource MahApps.Styles.Expander}" TargetType="Expander">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ItemC6s.Count}" Value="0">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Expander.Style>
                                    <Expander.Header>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="auto" />
                                            </Grid.ColumnDefinitions>

                                            <Label
                                                Grid.Column="0"
                                                VerticalAlignment="Center"
                                                Content="VFT Tanks" />
                                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                                <Label Content="Total:" />
                                                <TextBox
                                                    Width="120"
                                                    Margin="0,0,5,0"
                                                    IsReadOnly="True"
                                                    Text="{Binding ItemC6s, Converter={StaticResource TotalPriceConverter}, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:c}, Mode=TwoWay}" />

                                                <Button
                                                Grid.Column="1"
                                                Width="65"
                                                HorizontalAlignment="Right"
                                                Background="DarkMagenta"
                                                Command="{Binding EditItemsCommand}"
                                                CommandParameter="C6"
                                                ToolTip="Edit Items">
                                                    <Button.Content>
                                                        <icon:PackIconMaterial
                                                        HorizontalAlignment="Center"
                                                        VerticalAlignment="Center"
                                                        Kind="PencilPlus">
                                                            <icon:PackIconMaterial.LayoutTransform>
                                                                <TransformGroup>
                                                                    <ScaleTransform ScaleX="0.75" ScaleY="0.75" />
                                                                </TransformGroup>
                                                            </icon:PackIconMaterial.LayoutTransform>
                                                        </icon:PackIconMaterial>
                                                    </Button.Content>
                                                </Button>
                                            </StackPanel>
                                        </Grid>
                                    </Expander.Header>


                                    <local:FullItemDataGrid ItemsSource="{Binding ItemC6s, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" Style="{StaticResource FullItemDataGridStyle}">
                                        <local:FullItemDataGrid.Columns>

                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.Description}"
                                                Header="Description"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.Volume}"
                                                Header="Volume (gal)"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.HeightA}"
                                                Header="Height A (in)"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.DiameterB}"
                                                Header="Diameter B (in)"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.Weight}"
                                                Header="Weight (lb)"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />

                                        </local:FullItemDataGrid.Columns>
                                    </local:FullItemDataGrid>
                                </Expander>

                                <Expander
                                    Grid.Row="0"
                                    Margin="0,5,0,0"
                                    ctrl:ControlsHelper.ContentCharacterCasing="Normal"
                                    IsExpanded="True">
                                    <Expander.Style>
                                        <Style BasedOn="{StaticResource MahApps.Styles.Expander}" TargetType="Expander">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ItemC7s.Count}" Value="0">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Expander.Style>
                                    <Expander.Header>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="auto" />
                                            </Grid.ColumnDefinitions>

                                            <Label
                                                Grid.Column="0"
                                                VerticalAlignment="Center"
                                                Content="Tank Accessories" />
                                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                                <Label Content="Total:" />
                                                <TextBox
                                                    Width="120"
                                                    Margin="0,0,5,0"
                                                    IsReadOnly="True"
                                                    Text="{Binding ItemC7s, Converter={StaticResource TotalPriceConverter}, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:c}, Mode=TwoWay}" />

                                                <Button
                                                Grid.Column="1"
                                                Width="65"
                                                HorizontalAlignment="Right"
                                                Background="DarkMagenta"
                                                Command="{Binding EditItemsCommand}"
                                                CommandParameter="C7"
                                                ToolTip="Edit Items">
                                                    <Button.Content>
                                                        <icon:PackIconMaterial
                                                        HorizontalAlignment="Center"
                                                        VerticalAlignment="Center"
                                                        Kind="PencilPlus">
                                                            <icon:PackIconMaterial.LayoutTransform>
                                                                <TransformGroup>
                                                                    <ScaleTransform ScaleX="0.75" ScaleY="0.75" />
                                                                </TransformGroup>
                                                            </icon:PackIconMaterial.LayoutTransform>
                                                        </icon:PackIconMaterial>
                                                    </Button.Content>
                                                </Button>
                                            </StackPanel>
                                        </Grid>
                                    </Expander.Header>


                                    <local:FullItemDataGrid ItemsSource="{Binding ItemC7s, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" Style="{StaticResource FullItemDataGridStyle}">
                                        <local:FullItemDataGrid.Columns>

                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.Description}"
                                                Header="Description"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />

                                        </local:FullItemDataGrid.Columns>
                                    </local:FullItemDataGrid>
                                </Expander>
                            </StackPanel>
                        </Expander>

                        
                        
                        <Expander
                            Margin="5,5,5,0"
                            BorderBrush="DarkOliveGreen"
                            IsExpanded="False">
                            <Expander.Header>
                                <Label
                                    Margin="-26,-2,-2,-2"
                                    Background="DarkOliveGreen"
                                    Content="Grundfos" />
                            </Expander.Header>
                            <Expander.Style>
                                <Style BasedOn="{StaticResource MahApps.Styles.Expander}" TargetType="Expander">
                                    <Style.Triggers>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding ItemE1s.Count}" Value="0" />
                                                <Condition Binding="{Binding ItemE2s.Count}" Value="0" />
                                                <Condition Binding="{Binding ItemE3s.Count}" Value="0" />
                                                <Condition Binding="{Binding ItemE4s.Count}" Value="0" />
                                                <Condition Binding="{Binding ItemE5s.Count}" Value="0" />
                                                <Condition Binding="{Binding ItemE6s.Count}" Value="0" />
                                                <Condition Binding="{Binding ItemE7s.Count}" Value="0" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Collapsed" />
                                        </MultiDataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Expander.Style>
                            <StackPanel Orientation="Vertical">
                                <Expander
                                    Grid.Row="0"
                                    Margin="0,0,0,0"
                                    ctrl:ControlsHelper.ContentCharacterCasing="Normal"
                                    IsExpanded="True">
                                    <Expander.Style>
                                        <Style BasedOn="{StaticResource MahApps.Styles.Expander}" TargetType="Expander">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ItemE1s.Count}" Value="0">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Expander.Style>
                                    <Expander.Header>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="auto" />
                                            </Grid.ColumnDefinitions>

                                            <Label
                                                Grid.Column="0"
                                                VerticalAlignment="Center"
                                                Content="Pumps" />
                                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                                <Label Content="Total:" />
                                                <TextBox
                                                    Width="120"
                                                    Margin="0,0,5,0"
                                                    IsReadOnly="True"
                                                    Text="{Binding ItemE1s, Converter={StaticResource TotalPriceConverter}, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:c}, Mode=TwoWay}" />

                                                <Button
                                                Grid.Column="1"
                                                Width="65"
                                                HorizontalAlignment="Right"
                                                Background="DarkOliveGreen"
                                                Command="{Binding EditItemsCommand}"
                                                CommandParameter="E1"
                                                ToolTip="Edit Items">
                                                    <Button.Content>
                                                        <icon:PackIconMaterial
                                                        HorizontalAlignment="Center"
                                                        VerticalAlignment="Center"
                                                        Kind="PencilPlus">
                                                            <icon:PackIconMaterial.LayoutTransform>
                                                                <TransformGroup>
                                                                    <ScaleTransform ScaleX="0.75" ScaleY="0.75" />
                                                                </TransformGroup>
                                                            </icon:PackIconMaterial.LayoutTransform>
                                                        </icon:PackIconMaterial>
                                                    </Button.Content>
                                                </Button>
                                            </StackPanel>
                                        </Grid>
                                    </Expander.Header>


                                    <local:FullItemDataGrid ItemsSource="{Binding ItemE1s, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" Style="{StaticResource FullItemDataGridStyle}">
                                        <local:FullItemDataGrid.Columns>

                                            <DataGridTemplateColumn Header="Type" HeaderStyle="{StaticResource ColumnHeaderStyle}">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox
                                                            CharacterCasing="Upper"
                                                            MaxLength="20"
                                                            Text="{Binding Model, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>

                                            <DataGridTemplateColumn Header="GPM" HeaderStyle="{StaticResource ColumnHeaderStyle}">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox
                                                            CharacterCasing="Upper"
                                                            MaxLength="20"
                                                            Text="{Binding Gpm, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>

                                            <DataGridTemplateColumn Header="TDH" HeaderStyle="{StaticResource ColumnHeaderStyle}">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox
                                                            CharacterCasing="Upper"
                                                            MaxLength="20"
                                                            Text="{Binding Tdh, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>

                                            <DataGridTemplateColumn Header="HP" HeaderStyle="{StaticResource ColumnHeaderStyle}">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox
                                                            CharacterCasing="Upper"
                                                            MaxLength="20"
                                                            Text="{Binding Hp, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>

                                            <DataGridTemplateColumn Header="Motor" HeaderStyle="{StaticResource ColumnHeaderStyle}">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox
                                                            CharacterCasing="Upper"
                                                            MaxLength="20"
                                                            Text="{Binding Motor, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>

                                            <DataGridTemplateColumn Header="RPM" HeaderStyle="{StaticResource ColumnHeaderStyle}">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox
                                                            CharacterCasing="Upper"
                                                            MaxLength="20"
                                                            Text="{Binding Rpm, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>

                                            <DataGridTemplateColumn Header="Electrical" HeaderStyle="{StaticResource ColumnHeaderStyle}">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox
                                                            CharacterCasing="Upper"
                                                            MaxLength="20"
                                                            Text="{Binding Electrical, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>

                                        </local:FullItemDataGrid.Columns>
                                    </local:FullItemDataGrid>
                                </Expander>
                            </StackPanel>
                        </Expander>

                        
                        
                        <Expander
                            Margin="5,5,5,0"
                            BorderBrush="DeepSkyBlue"
                            IsExpanded="False">
                            <Expander.Header>
                                <Label
                                    Margin="-26,-2,-2,-2"
                                    Background="DeepSkyBlue"
                                    Content="UV Resources" />
                            </Expander.Header>
                            <Expander.Style>
                                <Style BasedOn="{StaticResource MahApps.Styles.Expander}" TargetType="Expander">
                                    <Style.Triggers>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding ItemF1s.Count}" Value="0" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Collapsed" />
                                        </MultiDataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Expander.Style>
                            <StackPanel Orientation="Vertical">
                                <Expander
                                    Grid.Row="0"
                                    Margin="0,0,0,0"
                                    ctrl:ControlsHelper.ContentCharacterCasing="Normal"
                                    IsExpanded="True">
                                    <Expander.Style>
                                        <Style BasedOn="{StaticResource MahApps.Styles.Expander}" TargetType="Expander">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ItemF1s.Count}" Value="0">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Expander.Style>
                                    <Expander.Header>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="auto" />
                                            </Grid.ColumnDefinitions>

                                            <Label
                                                Grid.Column="0"
                                                VerticalAlignment="Center"
                                                Content="UV" />
                                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                                <Label Content="Total:" />
                                                <TextBox
                                                    Width="120"
                                                    Margin="0,0,5,0"
                                                    IsReadOnly="True"
                                                    Text="{Binding ItemF1s, Converter={StaticResource TotalPriceConverter}, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:c}, Mode=TwoWay}" />

                                                <Button
                                                Grid.Column="1"
                                                Width="65"
                                                HorizontalAlignment="Right"
                                                Background="DeepSkyBlue"
                                                Command="{Binding EditItemsCommand}"
                                                CommandParameter="F1"
                                                ToolTip="Edit Items">
                                                    <Button.Content>
                                                        <icon:PackIconMaterial
                                                        HorizontalAlignment="Center"
                                                        VerticalAlignment="Center"
                                                        Kind="PencilPlus">
                                                            <icon:PackIconMaterial.LayoutTransform>
                                                                <TransformGroup>
                                                                    <ScaleTransform ScaleX="0.75" ScaleY="0.75" />
                                                                </TransformGroup>
                                                            </icon:PackIconMaterial.LayoutTransform>
                                                        </icon:PackIconMaterial>
                                                    </Button.Content>
                                                </Button>
                                            </StackPanel>
                                        </Grid>
                                    </Expander.Header>


                                    <local:FullItemDataGrid ItemsSource="{Binding ItemF1s, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" Style="{StaticResource FullItemDataGridStyle}">
                                        <local:FullItemDataGrid.Columns>

                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.PartNumber}"
                                                Header="Part Number"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.Description}"
                                                Header="Description"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.CatalogF1ProductType.Name}"
                                                Header="Product Type"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />

                                        </local:FullItemDataGrid.Columns>
                                    </local:FullItemDataGrid>
                                </Expander>
                            </StackPanel>
                        </Expander>

                        
                        
                        <Expander
                            Margin="5,5,5,0"
                            BorderBrush="DarkSlateGray"
                            IsExpanded="False">
                            <Expander.Header>
                                <Label
                                    Margin="-26,-2,-2,-2"
                                    Background="DarkSlateGray"
                                    Content="BAC - Open Loop Towers" />
                            </Expander.Header>
                            <Expander.Style>
                                <Style BasedOn="{StaticResource MahApps.Styles.Expander}" TargetType="Expander">
                                    <Style.Triggers>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding ItemG1s.Count}" Value="0" />
                                                <Condition Binding="{Binding ItemG2s.Count}" Value="0" />
                                                <Condition Binding="{Binding ItemG3s.Count}" Value="0" />
                                                <Condition Binding="{Binding ItemG4s.Count}" Value="0" />
                                                <Condition Binding="{Binding ItemG5s.Count}" Value="0" />
                                                <Condition Binding="{Binding ItemG6s.Count}" Value="0" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Collapsed" />
                                        </MultiDataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Expander.Style>
                            <StackPanel Orientation="Vertical">
                                <Expander
                                    Grid.Row="0"
                                    Margin="0,0,0,0"
                                    ctrl:ControlsHelper.ContentCharacterCasing="Normal"
                                    IsExpanded="True">
                                    <Expander.Style>
                                        <Style BasedOn="{StaticResource MahApps.Styles.Expander}" TargetType="Expander">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ItemG1s.Count}" Value="0">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Expander.Style>
                                    <Expander.Header>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="auto" />
                                            </Grid.ColumnDefinitions>

                                            <Label
                                                Grid.Column="0"
                                                VerticalAlignment="Center"
                                                Content="Towers" />
                                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                                <Label Content="Total:" />
                                                <TextBox
                                                    Width="120"
                                                    Margin="0,0,5,0"
                                                    IsReadOnly="True"
                                                    Text="{Binding ItemG1s, Converter={StaticResource TotalPriceConverter}, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:c}, Mode=TwoWay}" />

                                                <Button
                                                Grid.Column="1"
                                                Width="65"
                                                HorizontalAlignment="Right"
                                                Background="DarkSlateGray"
                                                Command="{Binding EditItemsCommand}"
                                                CommandParameter="G1"
                                                ToolTip="Edit Items">
                                                    <Button.Content>
                                                        <icon:PackIconMaterial
                                                        HorizontalAlignment="Center"
                                                        VerticalAlignment="Center"
                                                        Kind="PencilPlus">
                                                            <icon:PackIconMaterial.LayoutTransform>
                                                                <TransformGroup>
                                                                    <ScaleTransform ScaleX="0.75" ScaleY="0.75" />
                                                                </TransformGroup>
                                                            </icon:PackIconMaterial.LayoutTransform>
                                                        </icon:PackIconMaterial>
                                                    </Button.Content>
                                                </Button>
                                            </StackPanel>
                                        </Grid>
                                    </Expander.Header>

                                    <local:FullItemDataGrid ItemsSource="{Binding ItemG1s, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" Style="{StaticResource FullItemDataGridStyle}">
                                        <local:FullItemDataGrid.Columns>

                                            <DataGridTemplateColumn Header="Type" HeaderStyle="{StaticResource ColumnHeaderStyle}">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox
                                                            CharacterCasing="Upper"
                                                            MaxLength="20"
                                                            Text="{Binding Model, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>

                                            <DataGridTemplateColumn Header="Flow Rate" HeaderStyle="{StaticResource ColumnHeaderStyle}">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox
                                                            CharacterCasing="Upper"
                                                            MaxLength="20"
                                                            Text="{Binding FlowRate, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>

                                            <DataGridTemplateColumn Header="Water Temp" HeaderStyle="{StaticResource ColumnHeaderStyle}">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox
                                                            CharacterCasing="Upper"
                                                            MaxLength="20"
                                                            Text="{Binding WaterTemp, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>

                                            <DataGridTemplateColumn Header="Design WB" HeaderStyle="{StaticResource ColumnHeaderStyle}">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox
                                                            CharacterCasing="Upper"
                                                            MaxLength="20"
                                                            Text="{Binding DesignWB, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>

                                            <DataGridTemplateColumn Header="Fluid Pressure Drop (psi)" HeaderStyle="{StaticResource ColumnHeaderStyle}">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox
                                                            CharacterCasing="Upper"
                                                            MaxLength="20"
                                                            Text="{Binding FluidPressureDrop, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>

                                            <DataGridTemplateColumn Header="Fan Motors (HP)" HeaderStyle="{StaticResource ColumnHeaderStyle}">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox
                                                            CharacterCasing="Upper"
                                                            MaxLength="20"
                                                            Text="{Binding FanMotors, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>

                                            <DataGridTemplateColumn Header="Pump Motor" HeaderStyle="{StaticResource ColumnHeaderStyle}">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox
                                                            CharacterCasing="Upper"
                                                            MaxLength="20"
                                                            Text="{Binding PumpMotor, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>

                                            <DataGridTemplateColumn Header="Voltage" HeaderStyle="{StaticResource ColumnHeaderStyle}">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox
                                                            CharacterCasing="Upper"
                                                            MaxLength="20"
                                                            Text="{Binding Voltage, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>

                                        </local:FullItemDataGrid.Columns>
                                    </local:FullItemDataGrid>
                                </Expander>

                            </StackPanel>
                        </Expander>

                        
                        
                        <Expander
                            Margin="5,5,5,0"
                            BorderBrush="Firebrick"
                            IsExpanded="False">
                            <Expander.Header>
                                <Label
                                    Margin="-26,-2,-2,-2"
                                    Background="Firebrick"
                                    Content="BAC - Closed Loop Towers" />
                            </Expander.Header>
                            <Expander.Style>
                                <Style BasedOn="{StaticResource MahApps.Styles.Expander}" TargetType="Expander">
                                    <Style.Triggers>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding ItemH1s.Count}" Value="0" />
                                                <Condition Binding="{Binding ItemH2s.Count}" Value="0" />
                                                <Condition Binding="{Binding ItemH3s.Count}" Value="0" />
                                                <Condition Binding="{Binding ItemH4s.Count}" Value="0" />
                                                <Condition Binding="{Binding ItemH5s.Count}" Value="0" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Collapsed" />
                                        </MultiDataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Expander.Style>
                            <StackPanel Orientation="Vertical">
                                <Expander
                                    Grid.Row="0"
                                    Margin="0,0,0,0"
                                    ctrl:ControlsHelper.ContentCharacterCasing="Normal"
                                    IsExpanded="True">
                                    <Expander.Style>
                                        <Style BasedOn="{StaticResource MahApps.Styles.Expander}" TargetType="Expander">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ItemH1s.Count}" Value="0">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Expander.Style>
                                    <Expander.Header>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="auto" />
                                            </Grid.ColumnDefinitions>

                                            <Label
                                                Grid.Column="0"
                                                VerticalAlignment="Center"
                                                Content="Towers" />
                                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                                <Label Content="Total:" />
                                                <TextBox
                                                    Width="120"
                                                    Margin="0,0,5,0"
                                                    IsReadOnly="True"
                                                    Text="{Binding ItemH1s, Converter={StaticResource TotalPriceConverter}, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:c}, Mode=TwoWay}" />

                                                <Button
                                                Grid.Column="1"
                                                Width="65"
                                                HorizontalAlignment="Right"
                                                Background="Firebrick"
                                                Command="{Binding EditItemsCommand}"
                                                CommandParameter="H1"
                                                ToolTip="Edit Items">
                                                    <Button.Content>
                                                        <icon:PackIconMaterial
                                                        HorizontalAlignment="Center"
                                                        VerticalAlignment="Center"
                                                        Kind="PencilPlus">
                                                            <icon:PackIconMaterial.LayoutTransform>
                                                                <TransformGroup>
                                                                    <ScaleTransform ScaleX="0.75" ScaleY="0.75" />
                                                                </TransformGroup>
                                                            </icon:PackIconMaterial.LayoutTransform>
                                                        </icon:PackIconMaterial>
                                                    </Button.Content>
                                                </Button>
                                            </StackPanel>
                                        </Grid>
                                    </Expander.Header>


                                    <local:FullItemDataGrid ItemsSource="{Binding ItemH1s, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" Style="{StaticResource FullItemDataGridStyle}">
                                        <local:FullItemDataGrid.Columns>

                                            <DataGridTemplateColumn Header="Type" HeaderStyle="{StaticResource ColumnHeaderStyle}">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox
                                                            CharacterCasing="Upper"
                                                            MaxLength="20"
                                                            Text="{Binding Model, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>

                                            <DataGridTemplateColumn Header="Flow Rate" HeaderStyle="{StaticResource ColumnHeaderStyle}">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox
                                                            CharacterCasing="Upper"
                                                            MaxLength="20"
                                                            Text="{Binding FlowRate, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>

                                            <DataGridTemplateColumn Header="Water Temp" HeaderStyle="{StaticResource ColumnHeaderStyle}">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox
                                                            CharacterCasing="Upper"
                                                            MaxLength="20"
                                                            Text="{Binding WaterTemp, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>

                                            <DataGridTemplateColumn Header="Design WB" HeaderStyle="{StaticResource ColumnHeaderStyle}">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox
                                                            CharacterCasing="Upper"
                                                            MaxLength="20"
                                                            Text="{Binding DesignWB, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>

                                            <DataGridTemplateColumn Header="Fluid Pressure Drop (psi)" HeaderStyle="{StaticResource ColumnHeaderStyle}">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox
                                                            CharacterCasing="Upper"
                                                            MaxLength="20"
                                                            Text="{Binding FluidPressureDrop, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>

                                            <DataGridTemplateColumn Header="Fan Motors (HP)" HeaderStyle="{StaticResource ColumnHeaderStyle}">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox
                                                            CharacterCasing="Upper"
                                                            MaxLength="20"
                                                            Text="{Binding FanMotors, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>

                                            <DataGridTemplateColumn Header="Pump Motor" HeaderStyle="{StaticResource ColumnHeaderStyle}">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox
                                                            CharacterCasing="Upper"
                                                            MaxLength="20"
                                                            Text="{Binding PumpMotor, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>

                                            <DataGridTemplateColumn Header="Voltage" HeaderStyle="{StaticResource ColumnHeaderStyle}">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox
                                                            CharacterCasing="Upper"
                                                            MaxLength="20"
                                                            Text="{Binding Voltage, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>

                                        </local:FullItemDataGrid.Columns>
                                    </local:FullItemDataGrid>
                                </Expander>

                            </StackPanel>
                        </Expander>



                        <Expander
                            Margin="5,5,5,0"
                            BorderBrush="DarkSalmon"
                            IsExpanded="False">
                            <Expander.Header>
                                <Label
                                    Margin="-26,-2,-2,-2"
                                    Background="DarkSalmon"
                                    Content="Marvair" />
                            </Expander.Header>
                            <Expander.Style>
                                <Style BasedOn="{StaticResource MahApps.Styles.Expander}" TargetType="Expander">
                                    <Style.Triggers>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding ItemI1s.Count}" Value="0" />
                                                <Condition Binding="{Binding ItemI2s.Count}" Value="0" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Collapsed" />
                                        </MultiDataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Expander.Style>
                            <StackPanel Orientation="Vertical">
                                <Expander
                                    Grid.Row="0"
                                    Margin="0,0,0,5"
                                    ctrl:ControlsHelper.ContentCharacterCasing="Normal"
                                    IsExpanded="True">
                                    <Expander.Style>
                                        <Style BasedOn="{StaticResource MahApps.Styles.Expander}" TargetType="Expander">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ItemI1s.Count}" Value="0">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Expander.Style>
                                    <Expander.Header>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="auto" />
                                            </Grid.ColumnDefinitions>

                                            <Label
                                                Grid.Column="0"
                                                VerticalAlignment="Center"
                                                Content="Wall Mount AC/HP" />
                                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                                <Label Content="Total:" />
                                                <TextBox
                                                    Width="120"
                                                    Margin="0,0,5,0"
                                                    IsReadOnly="True"
                                                    Text="{Binding ItemI1s, Converter={StaticResource TotalPriceConverter}, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:c}, Mode=TwoWay}" />

                                                <Button
                                                Grid.Column="1"
                                                Width="65"
                                                HorizontalAlignment="Right"
                                                Background="DarkSalmon"
                                                Command="{Binding EditItemsCommand}"
                                                CommandParameter="I1"
                                                ToolTip="Edit Items">
                                                    <Button.Content>
                                                        <icon:PackIconMaterial
                                                        HorizontalAlignment="Center"
                                                        VerticalAlignment="Center"
                                                        Kind="PencilPlus">
                                                            <icon:PackIconMaterial.LayoutTransform>
                                                                <TransformGroup>
                                                                    <ScaleTransform ScaleX="0.75" ScaleY="0.75" />
                                                                </TransformGroup>
                                                            </icon:PackIconMaterial.LayoutTransform>
                                                        </icon:PackIconMaterial>
                                                    </Button.Content>
                                                </Button>
                                            </StackPanel>
                                        </Grid>
                                    </Expander.Header>


                                    <local:FullItemDataGrid ItemsSource="{Binding ItemI1s, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" Style="{StaticResource FullItemDataGridStyle}">
                                        <local:FullItemDataGrid.Columns>

                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.UnitSize}"
                                                Header="Unit Size (tons)"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.Description}"
                                                Header="Description"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.Economizer, Converter={StaticResource BoolToYesNoCoverter}}"
                                                Header="Economizer"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.Voltage}"
                                                Header="Voltage"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />

                                        </local:FullItemDataGrid.Columns>
                                    </local:FullItemDataGrid>
                                </Expander>

                                <Expander
                                    Grid.Row="0"
                                    Margin="0,0,0,0"
                                    ctrl:ControlsHelper.ContentCharacterCasing="Normal"
                                    IsExpanded="True">
                                    <Expander.Style>
                                        <Style BasedOn="{StaticResource MahApps.Styles.Expander}" TargetType="Expander">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ItemI2s.Count}" Value="0">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Expander.Style>
                                    <Expander.Header>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="auto" />
                                            </Grid.ColumnDefinitions>

                                            <Label
                                                Grid.Column="0"
                                                VerticalAlignment="Center"
                                                Content="Accessories" />
                                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                                <Label Content="Total:" />
                                                <TextBox
                                                    Width="120"
                                                    Margin="0,0,5,0"
                                                    IsReadOnly="True"
                                                    Text="{Binding ItemI2s, Converter={StaticResource TotalPriceConverter}, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:c}, Mode=TwoWay}" />

                                                <Button
                                                Grid.Column="1"
                                                Width="65"
                                                HorizontalAlignment="Right"
                                                Background="DarkSalmon"
                                                Command="{Binding EditItemsCommand}"
                                                CommandParameter="I2"
                                                ToolTip="Edit Items">
                                                    <Button.Content>
                                                        <icon:PackIconMaterial
                                                        HorizontalAlignment="Center"
                                                        VerticalAlignment="Center"
                                                        Kind="PencilPlus">
                                                            <icon:PackIconMaterial.LayoutTransform>
                                                                <TransformGroup>
                                                                    <ScaleTransform ScaleX="0.75" ScaleY="0.75" />
                                                                </TransformGroup>
                                                            </icon:PackIconMaterial.LayoutTransform>
                                                        </icon:PackIconMaterial>
                                                    </Button.Content>
                                                </Button>
                                            </StackPanel>
                                        </Grid>
                                    </Expander.Header>


                                    <local:FullItemDataGrid ItemsSource="{Binding ItemI2s, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" Style="{StaticResource FullItemDataGridStyle}">
                                        <local:FullItemDataGrid.Columns>

                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.Description}"
                                                Header="Description"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />

                                        </local:FullItemDataGrid.Columns>
                                    </local:FullItemDataGrid>
                                </Expander>
                            </StackPanel>
                        </Expander>

                        

                        <Expander
                            Margin="5,5,5,0"
                            BorderBrush="DarkGoldenrod"
                            IsExpanded="False">
                            <Expander.Header>
                                <Label
                                    Margin="-26,-2,-2,-2"
                                    Background="DarkGoldenrod"
                                    Content="PACE" />
                            </Expander.Header>
                            <Expander.Style>
                                <Style BasedOn="{StaticResource MahApps.Styles.Expander}" TargetType="Expander">
                                    <Style.Triggers>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding ItemJ1s.Count}" Value="0" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Collapsed" />
                                        </MultiDataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Expander.Style>
                            <StackPanel Orientation="Vertical">
                                <Expander
                                    Grid.Row="0"
                                    Margin="0,0,0,0"
                                    ctrl:ControlsHelper.ContentCharacterCasing="Normal"
                                    IsExpanded="True">
                                    <Expander.Style>
                                        <Style BasedOn="{StaticResource MahApps.Styles.Expander}" TargetType="Expander">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ItemJ1s.Count}" Value="0">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Expander.Style>
                                    <Expander.Header>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="auto" />
                                            </Grid.ColumnDefinitions>

                                            <Label
                                                Grid.Column="0"
                                                VerticalAlignment="Center"
                                                Content="AHU's" />
                                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                                <Label Content="Total:" />
                                                <TextBox
                                                    Width="120"
                                                    Margin="0,0,5,0"
                                                    IsReadOnly="True"
                                                    Text="{Binding ItemJ1s, Converter={StaticResource TotalPriceConverter}, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:c}, Mode=TwoWay}" />

                                                <Button
                                                Grid.Column="1"
                                                Width="65"
                                                HorizontalAlignment="Right"
                                                Background="DarkGoldenrod"
                                                Command="{Binding EditItemsCommand}"
                                                CommandParameter="J1"
                                                ToolTip="Edit Items">
                                                    <Button.Content>
                                                        <icon:PackIconMaterial
                                                        HorizontalAlignment="Center"
                                                        VerticalAlignment="Center"
                                                        Kind="PencilPlus">
                                                            <icon:PackIconMaterial.LayoutTransform>
                                                                <TransformGroup>
                                                                    <ScaleTransform ScaleX="0.75" ScaleY="0.75" />
                                                                </TransformGroup>
                                                            </icon:PackIconMaterial.LayoutTransform>
                                                        </icon:PackIconMaterial>
                                                    </Button.Content>
                                                </Button>
                                            </StackPanel>
                                        </Grid>
                                    </Expander.Header>


                                    <local:FullItemDataGrid ItemsSource="{Binding ItemJ1s, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" Style="{StaticResource FullItemDataGridStyle}">
                                        <local:FullItemDataGrid.Columns>

                                            <DataGridTemplateColumn Header="Type" HeaderStyle="{StaticResource ColumnHeaderStyle}">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox
                                                            CharacterCasing="Upper"
                                                            MaxLength="20"
                                                            Text="{Binding Model, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>

                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.Description}"
                                                Header="Description"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />


                                            <DataGridTemplateColumn Header="CFM" HeaderStyle="{StaticResource ColumnHeaderStyle}">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox
                                                            CharacterCasing="Upper"
                                                            MaxLength="20"
                                                            Text="{Binding Cfm, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>

                                            <DataGridTemplateColumn Header="Voltage" HeaderStyle="{StaticResource ColumnHeaderStyle}">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox
                                                            CharacterCasing="Upper"
                                                            MaxLength="20"
                                                            Text="{Binding Voltage, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>

                                            <DataGridTemplateColumn Header="Weight (lb)" HeaderStyle="{StaticResource ColumnHeaderStyle}">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox
                                                            CharacterCasing="Upper"
                                                            MaxLength="20"
                                                            Text="{Binding Weight, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>

                                        </local:FullItemDataGrid.Columns>
                                    </local:FullItemDataGrid>
                                </Expander>
                            </StackPanel>
                        </Expander>

                        
                        
                        <Expander
                            Margin="5,5,5,0"
                            BorderBrush="DarkKhaki"
                            IsExpanded="False">
                            <Expander.Header>
                                <Label
                                    Margin="-26,-2,-2,-2"
                                    Background="DarkKhaki"
                                    Content="Multiaqua" />
                            </Expander.Header>
                            <Expander.Style>
                                <Style BasedOn="{StaticResource MahApps.Styles.Expander}" TargetType="Expander">
                                    <Style.Triggers>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding ItemK1s.Count}" Value="0" />
                                                <Condition Binding="{Binding ItemK2s.Count}" Value="0" />
                                                <Condition Binding="{Binding ItemK3s.Count}" Value="0" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Collapsed" />
                                        </MultiDataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Expander.Style>
                            <StackPanel Orientation="Vertical">

                                <Expander
                                    Grid.Row="0"
                                    Margin="0,0,0,5"
                                    ctrl:ControlsHelper.ContentCharacterCasing="Normal"
                                    IsExpanded="True">
                                    <Expander.Style>
                                        <Style BasedOn="{StaticResource MahApps.Styles.Expander}" TargetType="Expander">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ItemK1s.Count}" Value="0">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Expander.Style>
                                    <Expander.Header>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="auto" />
                                            </Grid.ColumnDefinitions>

                                            <Label
                                                Grid.Column="0"
                                                VerticalAlignment="Center"
                                                Content="Chillers" />
                                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                                <Label Content="Total:" />
                                                <TextBox
                                                    Width="120"
                                                    Margin="0,0,5,0"
                                                    IsReadOnly="True"
                                                    Text="{Binding ItemK1s, Converter={StaticResource TotalPriceConverter}, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:c}, Mode=TwoWay}" />

                                                <Button
                                                Grid.Column="1"
                                                Width="65"
                                                HorizontalAlignment="Right"
                                                Background="DarkKhaki"
                                                Command="{Binding EditItemsCommand}"
                                                CommandParameter="K1"
                                                ToolTip="Edit Items">
                                                    <Button.Content>
                                                        <icon:PackIconMaterial
                                                        HorizontalAlignment="Center"
                                                        VerticalAlignment="Center"
                                                        Kind="PencilPlus">
                                                            <icon:PackIconMaterial.LayoutTransform>
                                                                <TransformGroup>
                                                                    <ScaleTransform ScaleX="0.75" ScaleY="0.75" />
                                                                </TransformGroup>
                                                            </icon:PackIconMaterial.LayoutTransform>
                                                        </icon:PackIconMaterial>
                                                    </Button.Content>
                                                </Button>
                                            </StackPanel>
                                        </Grid>
                                    </Expander.Header>


                                    <local:FullItemDataGrid ItemsSource="{Binding ItemK1s, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" Style="{StaticResource FullItemDataGridStyle}">
                                        <local:FullItemDataGrid.Columns>

                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.Description}"
                                                Header="Description"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />

                                        </local:FullItemDataGrid.Columns>
                                    </local:FullItemDataGrid>
                                </Expander>

                                <Expander
                                    Grid.Row="0"
                                    Margin="0,0,0,5"
                                    ctrl:ControlsHelper.ContentCharacterCasing="Normal"
                                    IsExpanded="True">
                                    <Expander.Style>
                                        <Style BasedOn="{StaticResource MahApps.Styles.Expander}" TargetType="Expander">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ItemK2s.Count}" Value="0">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Expander.Style>
                                    <Expander.Header>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="auto" />
                                            </Grid.ColumnDefinitions>

                                            <Label
                                                Grid.Column="0"
                                                VerticalAlignment="Center"
                                                Content="Fan Coils" />
                                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                                <Label Content="Total:" />
                                                <TextBox
                                                    Width="120"
                                                    Margin="0,0,5,0"
                                                    IsReadOnly="True"
                                                    Text="{Binding ItemK2s, Converter={StaticResource TotalPriceConverter}, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:c}, Mode=TwoWay}" />

                                                <Button
                                                Grid.Column="1"
                                                Width="65"
                                                HorizontalAlignment="Right"
                                                Background="DarkKhaki"
                                                Command="{Binding EditItemsCommand}"
                                                CommandParameter="K2"
                                                ToolTip="Edit Items">
                                                    <Button.Content>
                                                        <icon:PackIconMaterial
                                                        HorizontalAlignment="Center"
                                                        VerticalAlignment="Center"
                                                        Kind="PencilPlus">
                                                            <icon:PackIconMaterial.LayoutTransform>
                                                                <TransformGroup>
                                                                    <ScaleTransform ScaleX="0.75" ScaleY="0.75" />
                                                                </TransformGroup>
                                                            </icon:PackIconMaterial.LayoutTransform>
                                                        </icon:PackIconMaterial>
                                                    </Button.Content>
                                                </Button>
                                            </StackPanel>
                                        </Grid>
                                    </Expander.Header>


                                    <local:FullItemDataGrid ItemsSource="{Binding ItemK2s, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" Style="{StaticResource FullItemDataGridStyle}">
                                        <local:FullItemDataGrid.Columns>

                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.Description}"
                                                Header="Description"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />

                                        </local:FullItemDataGrid.Columns>
                                    </local:FullItemDataGrid>
                                </Expander>

                                <Expander
                                    Grid.Row="0"
                                    Margin="0,0,0,0"
                                    ctrl:ControlsHelper.ContentCharacterCasing="Normal"
                                    IsExpanded="True">
                                    <Expander.Style>
                                        <Style BasedOn="{StaticResource MahApps.Styles.Expander}" TargetType="Expander">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ItemK3s.Count}" Value="0">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Expander.Style>
                                    <Expander.Header>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="auto" />
                                            </Grid.ColumnDefinitions>

                                            <Label
                                                Grid.Column="0"
                                                VerticalAlignment="Center"
                                                Content="Accessories And Freight" />
                                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                                <Label Content="Total:" />
                                                <TextBox
                                                    Width="120"
                                                    Margin="0,0,5,0"
                                                    IsReadOnly="True"
                                                    Text="{Binding ItemK3s, Converter={StaticResource TotalPriceConverter}, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:c}, Mode=TwoWay}" />

                                                <Button
                                                Grid.Column="1"
                                                Width="65"
                                                HorizontalAlignment="Right"
                                                Background="DarkKhaki"
                                                Command="{Binding EditItemsCommand}"
                                                CommandParameter="K3"
                                                ToolTip="Edit Items">
                                                    <Button.Content>
                                                        <icon:PackIconMaterial
                                                        HorizontalAlignment="Center"
                                                        VerticalAlignment="Center"
                                                        Kind="PencilPlus">
                                                            <icon:PackIconMaterial.LayoutTransform>
                                                                <TransformGroup>
                                                                    <ScaleTransform ScaleX="0.75" ScaleY="0.75" />
                                                                </TransformGroup>
                                                            </icon:PackIconMaterial.LayoutTransform>
                                                        </icon:PackIconMaterial>
                                                    </Button.Content>
                                                </Button>
                                            </StackPanel>
                                        </Grid>
                                    </Expander.Header>


                                    <local:FullItemDataGrid ItemsSource="{Binding ItemK3s, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" Style="{StaticResource FullItemDataGridStyle}">
                                        <local:FullItemDataGrid.Columns>

                                            <DataGridTextColumn
                                                Width="auto"
                                                Binding="{Binding Catalog.Description}"
                                                Header="Description"
                                                HeaderStyle="{StaticResource ColumnHeaderStyle}"
                                                IsReadOnly="True" />

                                        </local:FullItemDataGrid.Columns>
                                    </local:FullItemDataGrid>
                                </Expander>
                            </StackPanel>
                        </Expander>


                        
                        <Expander
                            Margin="5,5,5,0"
                            BorderBrush="DarkOrchid"
                            IsExpanded="False">
                            <Expander.Header>
                                <Label
                                    Margin="-26,-2,-2,-2"
                                    Background="DarkOrchid"
                                    Content="General Product" />
                            </Expander.Header>
                            <Expander.Style>
                                <Style BasedOn="{StaticResource MahApps.Styles.Expander}" TargetType="Expander">
                                    <Style.Triggers>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding ItemL1s.Count}" Value="0" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Collapsed" />
                                        </MultiDataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Expander.Style>
                            <StackPanel Orientation="Vertical">
                                <Expander
                                    Grid.Row="0"
                                    Margin="0,0,0,0"
                                    ctrl:ControlsHelper.ContentCharacterCasing="Normal"
                                    IsExpanded="True">
                                    <Expander.Style>
                                        <Style BasedOn="{StaticResource MahApps.Styles.Expander}" TargetType="Expander">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ItemL1s.Count}" Value="0">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Expander.Style>
                                    <Expander.Header>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="auto" />
                                            </Grid.ColumnDefinitions>

                                            <Label
                                                Grid.Column="0"
                                                VerticalAlignment="Center"
                                                Content="Custom" />
                                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                                <Label Content="Total:" />
                                                <TextBox
                                                    Width="120"
                                                    Margin="0,0,5,0"
                                                    IsReadOnly="True"
                                                    Text="{Binding ItemL1s, Converter={StaticResource TotalPriceConverter}, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:c}, Mode=TwoWay}" />

                                                <Button
                                                Grid.Column="1"
                                                Width="65"
                                                HorizontalAlignment="Right"
                                                Background="DarkOrchid"
                                                Command="{Binding EditItemsCommand}"
                                                CommandParameter="L1"
                                                ToolTip="Edit Items">
                                                    <Button.Content>
                                                        <icon:PackIconMaterial
                                                        HorizontalAlignment="Center"
                                                        VerticalAlignment="Center"
                                                        Kind="PencilPlus">
                                                            <icon:PackIconMaterial.LayoutTransform>
                                                                <TransformGroup>
                                                                    <ScaleTransform ScaleX="0.75" ScaleY="0.75" />
                                                                </TransformGroup>
                                                            </icon:PackIconMaterial.LayoutTransform>
                                                        </icon:PackIconMaterial>
                                                    </Button.Content>
                                                </Button>
                                            </StackPanel>
                                        </Grid>
                                    </Expander.Header>

                                    <local:FullItemDataGrid ItemsSource="{Binding ItemL1s, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" Style="{StaticResource FullItemDataGridStyle}">
                                        <local:FullItemDataGrid.Columns>

                                            <DataGridTemplateColumn Header="Model Type" HeaderStyle="{StaticResource ColumnHeaderStyle}">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox
                                                            CharacterCasing="Upper"
                                                            Text="{Binding Model, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>

                                            <DataGridTemplateColumn Header="Description" HeaderStyle="{StaticResource ColumnHeaderStyle}">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox
                                                            CharacterCasing="Upper"
                                                            Text="{Binding Description, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" />
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>

                                        </local:FullItemDataGrid.Columns>
                                    </local:FullItemDataGrid>

                                </Expander>
                            </StackPanel>
                        </Expander>-->


                    <!--</StackPanel>-->
                </ScrollViewer>
            </Border>
        </Grid>


        <ContentControl Grid.Column="2" Content="{Binding TitlesViewModel}" />


    </Grid>

</UserControl>
